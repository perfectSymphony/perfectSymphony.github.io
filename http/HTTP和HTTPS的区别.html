<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP和HTTPS的区别 | perfectSymphony</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/home.jpeg">
    <meta name="description" content="我的个人网站">
    
    <link rel="preload" href="/assets/css/0.styles.bc04ab31.css" as="style"><link rel="preload" href="/assets/js/app.f8411f0b.js" as="script"><link rel="preload" href="/assets/js/2.05adf5bd.js" as="script"><link rel="preload" href="/assets/js/36.c6a50bc9.js" as="script"><link rel="prefetch" href="/assets/js/10.2dc8bec1.js"><link rel="prefetch" href="/assets/js/11.ca3236a0.js"><link rel="prefetch" href="/assets/js/12.1c8e3723.js"><link rel="prefetch" href="/assets/js/13.76542857.js"><link rel="prefetch" href="/assets/js/14.d6e8bf79.js"><link rel="prefetch" href="/assets/js/15.20b6c938.js"><link rel="prefetch" href="/assets/js/16.11753e51.js"><link rel="prefetch" href="/assets/js/17.6fc6c61b.js"><link rel="prefetch" href="/assets/js/18.49e2d91b.js"><link rel="prefetch" href="/assets/js/19.70a62d7c.js"><link rel="prefetch" href="/assets/js/20.101f144f.js"><link rel="prefetch" href="/assets/js/21.34e85c3a.js"><link rel="prefetch" href="/assets/js/22.dadeac8c.js"><link rel="prefetch" href="/assets/js/23.36088396.js"><link rel="prefetch" href="/assets/js/24.703d91ca.js"><link rel="prefetch" href="/assets/js/25.1c4b1227.js"><link rel="prefetch" href="/assets/js/26.09024f1b.js"><link rel="prefetch" href="/assets/js/27.1e449829.js"><link rel="prefetch" href="/assets/js/28.8c42680d.js"><link rel="prefetch" href="/assets/js/29.0227ce6c.js"><link rel="prefetch" href="/assets/js/3.b08e1168.js"><link rel="prefetch" href="/assets/js/30.b4781eec.js"><link rel="prefetch" href="/assets/js/31.3a424985.js"><link rel="prefetch" href="/assets/js/32.9b05d756.js"><link rel="prefetch" href="/assets/js/33.894f7aa3.js"><link rel="prefetch" href="/assets/js/34.f98738b0.js"><link rel="prefetch" href="/assets/js/35.e4a50e89.js"><link rel="prefetch" href="/assets/js/37.da7edfd6.js"><link rel="prefetch" href="/assets/js/38.4145413c.js"><link rel="prefetch" href="/assets/js/39.536de6ce.js"><link rel="prefetch" href="/assets/js/4.c9ec55af.js"><link rel="prefetch" href="/assets/js/40.0eea60f3.js"><link rel="prefetch" href="/assets/js/41.49b1bf6a.js"><link rel="prefetch" href="/assets/js/42.ee424654.js"><link rel="prefetch" href="/assets/js/43.39f82273.js"><link rel="prefetch" href="/assets/js/44.deed85a4.js"><link rel="prefetch" href="/assets/js/45.5ccfdad0.js"><link rel="prefetch" href="/assets/js/46.adf9fff9.js"><link rel="prefetch" href="/assets/js/47.4e2cd47a.js"><link rel="prefetch" href="/assets/js/48.c7ff8373.js"><link rel="prefetch" href="/assets/js/49.b808f62b.js"><link rel="prefetch" href="/assets/js/5.b8f70714.js"><link rel="prefetch" href="/assets/js/50.ffb62afb.js"><link rel="prefetch" href="/assets/js/51.707c6fae.js"><link rel="prefetch" href="/assets/js/52.86c9c5ce.js"><link rel="prefetch" href="/assets/js/53.e0ca6a6d.js"><link rel="prefetch" href="/assets/js/54.1b68fa28.js"><link rel="prefetch" href="/assets/js/55.482fa368.js"><link rel="prefetch" href="/assets/js/56.b366f4ad.js"><link rel="prefetch" href="/assets/js/57.c1434a9d.js"><link rel="prefetch" href="/assets/js/58.9c1e64f5.js"><link rel="prefetch" href="/assets/js/59.07b1d406.js"><link rel="prefetch" href="/assets/js/6.c50df69f.js"><link rel="prefetch" href="/assets/js/60.3942106e.js"><link rel="prefetch" href="/assets/js/61.e01dc9de.js"><link rel="prefetch" href="/assets/js/62.dd63f7c0.js"><link rel="prefetch" href="/assets/js/63.8651d419.js"><link rel="prefetch" href="/assets/js/64.b819a36d.js"><link rel="prefetch" href="/assets/js/65.51fc6264.js"><link rel="prefetch" href="/assets/js/66.24525feb.js"><link rel="prefetch" href="/assets/js/67.a2639c1b.js"><link rel="prefetch" href="/assets/js/68.c81d5b40.js"><link rel="prefetch" href="/assets/js/69.9a57ed01.js"><link rel="prefetch" href="/assets/js/7.f1376b7f.js"><link rel="prefetch" href="/assets/js/70.dc5edc5f.js"><link rel="prefetch" href="/assets/js/71.b9c186d0.js"><link rel="prefetch" href="/assets/js/72.5892a8ae.js"><link rel="prefetch" href="/assets/js/73.d77a472c.js"><link rel="prefetch" href="/assets/js/74.19ad99f5.js"><link rel="prefetch" href="/assets/js/75.83991311.js"><link rel="prefetch" href="/assets/js/76.8072ee42.js"><link rel="prefetch" href="/assets/js/77.ba414b0e.js"><link rel="prefetch" href="/assets/js/78.30d25da0.js"><link rel="prefetch" href="/assets/js/79.85e0b942.js"><link rel="prefetch" href="/assets/js/8.29f08757.js"><link rel="prefetch" href="/assets/js/80.b66b5d1e.js"><link rel="prefetch" href="/assets/js/81.a4817ac0.js"><link rel="prefetch" href="/assets/js/82.736ad43d.js"><link rel="prefetch" href="/assets/js/83.5487fce2.js"><link rel="prefetch" href="/assets/js/84.d4103ead.js"><link rel="prefetch" href="/assets/js/85.1f37e8b3.js"><link rel="prefetch" href="/assets/js/86.2de41a34.js"><link rel="prefetch" href="/assets/js/87.90300416.js"><link rel="prefetch" href="/assets/js/88.4f5425a4.js"><link rel="prefetch" href="/assets/js/89.c249c890.js"><link rel="prefetch" href="/assets/js/9.61876a85.js"><link rel="prefetch" href="/assets/js/90.779a6b6b.js"><link rel="prefetch" href="/assets/js/91.169211fb.js"><link rel="prefetch" href="/assets/js/92.d4794394.js"><link rel="prefetch" href="/assets/js/93.23484c44.js"><link rel="prefetch" href="/assets/js/94.1f747f63.js"><link rel="prefetch" href="/assets/js/95.93bc9fce.js"><link rel="prefetch" href="/assets/js/96.79f02596.js"><link rel="prefetch" href="/assets/js/97.9d6d4e9e.js"><link rel="prefetch" href="/assets/js/98.0ffd799b.js"><link rel="prefetch" href="/assets/js/99.26971a32.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bc04ab31.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">perfectSymphony</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.cnblogs.com/myprogramer/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/perfectSymphony/notes.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.cnblogs.com/myprogramer/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/perfectSymphony/notes.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/html_docs/html相关面试题.html" class="sidebar-link">html相关面试题</a></li><li><a href="/html_docs/table使用总结.html" class="sidebar-link">table使用总结</a></li><li><a href="/html_docs/localStorage和sessionStorage区别.html" class="sidebar-link">localStorage和sessionStorage区别</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>uni-app</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GIT</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>HTTP</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/http/HTTP和HTTPS的区别.html" class="active sidebar-link">HTTP和HTTPS的区别</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#http和https的区别" class="sidebar-link">HTTP和HTTPS的区别</a></li><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#tls-ssl-工作原理及握手过程详解" class="sidebar-link">TLS/SSL 工作原理及握手过程详解</a></li><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#一、http-和-https-的基本概念" class="sidebar-link">一、HTTP 和 HTTPS 的基本概念</a></li><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#二、http-与-https-的区别" class="sidebar-link">二、HTTP 与 HTTPS  的区别</a></li><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#三、https-相对于-http-的改进" class="sidebar-link">三、HTTPS 相对于 HTTP 的改进</a></li><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#四、https-的优点" class="sidebar-link">四、HTTPS 的优点</a></li><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#五、https-的缺点-对比优点" class="sidebar-link">五、HTTPS 的缺点（对比优点）</a></li><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#六、https-的连接过程" class="sidebar-link">六、HTTPS 的连接过程</a></li><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#上述的过程需要弄懂的核心思想" class="sidebar-link">上述的过程需要弄懂的核心思想</a></li><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#补充" class="sidebar-link">补充：</a></li><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#ssl-提供服务" class="sidebar-link">SSL 提供服务</a></li><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#ssl-工作流程" class="sidebar-link">SSL 工作流程</a></li><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#服务器认证阶段" class="sidebar-link">服务器认证阶段：</a></li><li class="sidebar-sub-header"><a href="/http/HTTP和HTTPS的区别.html#网络七层协议" class="sidebar-link">网络七层协议</a></li></ul></li><li><a href="/http/揭秘简单请求和复杂请求.html" class="sidebar-link">揭秘简单请求和复杂请求</a></li><li><a href="/http/从输入url到页面加载完成发生了什么.html" class="sidebar-link">从输入url到页面加载完成发生了什么</a></li><li><a href="/http/HTTP状态码汇总.html" class="sidebar-link">HTTP状态码汇总</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>跨域</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>架构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>概念篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>正则表达式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>移动直播</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>问题记录</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>语录篇</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="http和https的区别"><a href="#http和https的区别" class="header-anchor">#</a> HTTP和HTTPS的区别</h2> <h2 id="tls-ssl-工作原理及握手过程详解"><a href="#tls-ssl-工作原理及握手过程详解" class="header-anchor">#</a> <a href="https://tyler-zx.blog.csdn.net/article/details/107591115" target="_blank" rel="noopener noreferrer">TLS/SSL 工作原理及握手过程详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h2 id="一、http-和-https-的基本概念"><a href="#一、http-和-https-的基本概念" class="header-anchor">#</a> 一、HTTP 和 HTTPS 的基本概念</h2> <p><b>HTTP：</b>超文本传输协议（HTTP，HyperText Transfer Protocol）是互联网上应用最为广泛的一种网络协议。设计 HTTP 最初的目的是为了提供一种发布和接收 HTML 页面的方法。它可以使浏览器更加高效。HTTP 协议是以明文方式发送信息的，如果黑客截取了 Web 浏览器和服务器之间的传输报文，就可以直接获得其中的信息。</p> <p><b>HTTP 原理：</b></p> <p>①  客户端的浏览器首先要通过网络与服务器建立连接，该连接是通过 TCP 来完成的，一般 TCP 连接的端口号是80。 建立连接后，客户机发送一个请求给服务器，请求方式的格式为：统一资源标识符（URL）、协议版本号，后边是 MIME 信息包括请求修饰符、客户机信息和许可内容。</p> <p>②  服务器接到请求后，给予相应的响应信息，其格式为一个状态行，包括信息的协议版本号、一个成功或错误的代码，后边是 MIME 信息包括服务器信息、实体信息和可能的内容。</p> <p>HTTPS：<font color="red">是以安全为目标的 HTTP 通道，是 HTTP 的安全版。HTTPS 的安全基础是 SSL。SSL 协议位于 TCP/IP 协议与各种应用层协议之间，为数据通讯提供安全支持。</font>SSL 协议可分为两层：<font>SSL 记录协议（SSL Record Protocol）</font>，它建立在可靠的传输协议（如TCP）之上，为高层协议提供数据封装、压缩、加密等基本功能的支持。<font>SSL 握手协议（SSL Handshake Protocol）</font>，它建立在 SSL 记录协议之上，用于在实际的数据传输开始前，通讯双方进行身份认证、协商加密算法、交换加密密钥等。</p> <p><img src="https://z3.ax1x.com/2021/03/22/6ocIRe.png" alt="6ocIRe.png"></p> <p><b>HTTPS 设计目标：</b></p> <p>(1) 数据保密性：保证数据内容在传输的过程中不会被第三方查看。就像快递员传递包裹一样，都进行了封装，别人无法获知里面装了什么  。</p> <p>(2) 数据完整性：及时发现被第三方篡改的传输内容。就像快递员虽然不知道包裹里装了什么东西，但他有可能中途掉包，数据完整性就是指如果被掉包，我们能轻松发现并拒收 。</p> <p>(3) 身份校验安全性：保证数据到达用户期望的目的地。就像我们邮寄包裹时，虽然是一个封装好的未掉包的包裹，但必须确定这个包裹不会送错地方，通过身份校验来确保送对了地方。</p> <h2 id="二、http-与-https-的区别"><a href="#二、http-与-https-的区别" class="header-anchor">#</a> 二、HTTP 与 HTTPS  的区别</h2> <p>1、HTTPS  协议需要到 CA （Certificate Authority，证书颁发机构）申请证书，一般免费证书较少，因而需要一定费用。(以前的网易官网是http，而网易邮箱是 https 。)</p> <p>2、<font color="red">HTTP 是超文本传输协议，信息是明文传输，HTTPS 则是具有安全性的 SSL 加密传输协议。</font></p> <p>3、<font color="red">HTTP 和 HTTPS 使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。</font></p> <p>4、<font color="red">HTTP 的连接很简单，是无状态的。</font>HTTPS 协议是由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，比 HTTP 协议安全。<font color="red">(无状态的意思是其数据包的发送、传输和接收都是相互独立的。无连接的意思是指通信双方都不长久的维持对方的任何信息。)</font></p> <h2 id="三、https-相对于-http-的改进"><a href="#三、https-相对于-http-的改进" class="header-anchor">#</a> 三、HTTPS 相对于 HTTP 的改进</h2> <p><b>双向的身份认证</b></p> <p>客户端和服务端在传输数据之前，会通过基于X.509证书对双方进行身份认证 。具体过程如下：</p> <p>客户端发起 SSL 握手消息给服务端要求连接。</p> <p>服务端将证书发送给客户端。</p> <p>客户端检查服务端证书，确认是否由自己信任的证书签发机构签发(客户端内置了所有受信任 CA 的证书)。 如果不是，将是否继续通讯的决定权交给用户选择 ( 注意，这里将是一个安全缺陷 )。如果检查无误或者用户选择继续，则客户端认可服务端的身份。</p> <p>服务端要求客户端发送证书，并检查是否通过验证。失败则关闭连接，认证成功则从客户端证书中获得客户端的公钥，一般为 1024 位或者 2048 位。到此，服务器客户端双方的身份认证结束，双方确保身份都是真实可靠的。</p> <p><b>注意：</b></p> <p>(1) 采用 HTTPS 协议的服务器必须要有一套数字证书，可以自己制作，也可以向组织申请。区别就是自己颁发的证书需要客户端验证通过，才可以继续访问。这套证书其实就是一对公钥和私钥。</p> <p>(2) 互联网有太多的服务需要使用证书来验证身份，以至于客户端（操作系统或浏览器等）无法内置所有证书，需要通过服务端将证书发送给客户端。</p> <p>(3) 客户端内置的是 CA 的根证书(Root Certificate)，HTTPS 协议中服务器会发送证书链（Certificate Chain）给客户端。</p> <p><b>数据传输的机密性</b></p> <p>客户端和服务端在开始传输数据之前，会协商传输过程需要使用的加密算法。 客户端发送协商请求给服务端, 其中包含自己支持的非对成加密的密钥交换算法 ( 一般是RSA)，数据签名摘要算法 ( 一般是SHA或者MD5) ，加密传输数据的对称加密算法 ( 一般是DES)，以及加密密钥的长度。 服务端接收到消息之后，选中安全性最高的算法，并将选中的算法发送给客户端，完成协商。客户端生成随机的字符串，通过协商好的非对称加密算法，使用服务端的公钥对该字符串进行加密，发送给服务端。 服务端接收到之后，使用自己的私钥解密得到该字符串。在随后的数据传输当中，使用这个字符串作为密钥进行对称加密。</p> <p><b>防止重放攻击</b></p> <p>SSL 使用序列号来保护通讯方免受报文重放攻击。这个序列号被加密后作为数据包的负载。在整个 SSL 握手中，都有一个唯一的随机数来标记 SSL 握手。 这样防止了攻击者嗅探整个登录过程，获取到加密的登录数据之后，不对数据进行解密，而直接重传登录数据包的攻击手法。</p> <p>可以看到，鉴于电子商务等安全上的需求，HTTPS 对比 HTTP 协议，在安全方面已经取得了极大的增强。总结来说，HTTPS 的改进点在于创造性的使用了非对称加密算法，在不安全的网路上，安全的传输了用来进行非对称加密的密钥，综合利用了非对称加密的安全性和对称加密的快速性。</p> <h2 id="四、https-的优点"><a href="#四、https-的优点" class="header-anchor">#</a> 四、HTTPS 的优点</h2> <p>1、使用 HTTPS 协议可认证用户和服务器，确保数据发送到正确的客户机和服务器。</p> <p>2、HTTPS 协议是由SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，要比 HTTP 协议安全，可防止数据在传输过程中不被窃取、修改，确保数据的完整性。</p> <p>3、HTTPS 是现行架构下最安全的解决方案，虽然不是绝对安全，但它大幅增加了中间人攻击的成本。</p> <p></p> <h2 id="五、https-的缺点-对比优点"><a href="#五、https-的缺点-对比优点" class="header-anchor">#</a> 五、HTTPS 的缺点（对比优点）</h2> <p>1、HTTPS 协议握手阶段比较费时，会使页面的加载时间延长近。</p> <p>2、HTTPS 连接缓存不如 HTTP 高效，会增加数据开销，甚至已有的安全措施也会因此而受到影响。</p> <p>3、HTTPS 协议的安全是有范围的，在黑客攻击、拒绝服务攻击和服务器劫持等方面几乎起不到什么作用。</p> <p>4、SSL 证书通常需要绑定 IP，不能在同一 IP 上绑定多个域名，IPv4 资源不可能支撑这个消耗。</p> <p>5、成本增加。部署 HTTPS 后，因为 HTTPS 协议的工作要增加额外的计算资源消耗，例如 SSL 协议加密算法和 SSL 交互次数将占用一定的计算资源和服务器成本。</p> <p>6、HTTPS 协议的加密范围也比较有限。最关键的，SSL 证书的信用链体系并不安全，特别是在某些国家可以控制 CA 根证书的情况下，中间人攻击一样可行。</p> <h2 id="六、https-的连接过程"><a href="#六、https-的连接过程" class="header-anchor">#</a> 六、HTTPS 的连接过程</h2> <p><a href="https://imgtu.com/i/6ogTYT" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/03/22/6ogTYT.jpg" alt="6ogTYT.jpg"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>图片中的过程是按 8 个步骤分的，但是网上有更详细的步骤，所以我把详细的过程和这个图片配在一起。</p> <p>① 客户端的浏览器向服务器发送请求，并传送客户端 SSL 协议的版本号，加密算法的种类，产生的随机数，以及其他服务器和客户端之间通讯所需要的各种信息。</p> <p>② 服务器向客户端传送 SSL 协议的版本号，加密算法的种类，随机数以及其他相关信息，同时服务器还将向客户端传送自己的证书。</p> <p>③ 客户端利用服务器传过来的信息验证服务器的合法性，服务器的合法性包括：证书是否过期，发行服务器证书的 CA 是否可靠，发行者证书的公钥能否正确解开服务器证书的 &quot;发行者的数字签名&quot;，服务器证书上的域名是否和服务器的实际域名相匹配。如果合法性验证没有通过，通讯将断开；如果合法性验证通过，将继续进行第四步。</p> <p>④ 用户端随机产生一个用于通讯的 &quot;对称密码&quot;，然后用服务器的公钥（服务器的公钥从步骤②中的服务器的证书中获得）对其加密，然后将加密后的“预主密码”传给服务器。</p> <p>⑤ 如果服务器要求客户的身份认证（在握手过程中为可选），用户可以建立一个随机数然后对其进行数据签名，将这个含有签名的随机数和客户自己的证书以及加密过的密钥一起传给服务器。</p> <p>⑥ 如果服务器要求客户的身份认证，服务器必须检验客户证书和签名随机数的合法性，具体的合法性验证过程包括：客户的证书使用日期是否有效，为客户提供证书的 CA  是否可靠，发行 CA 的公钥能否正确解开客户证书的发行 CA 的数字签名，检查客户的证书是否在证书废止列表（CRL）中。检验如果没有通过，通讯立刻中断；如果验证通过，服务器将用自己的私钥解开加密的私钥，然后执行一系列步骤来产生主通讯密码（客户端也将通过同样的方法产生相同的主通讯密码）。</p> <p>⑦ 服务器和客户端用相同的对称加密密钥，对称密钥用于 SSL 协议的安全数据通讯的加解密通讯。同时在 SSL 通讯过程中还要完成数据通讯的完整性，防止数据通讯中的任何变化。</p> <p>⑧ 客户端向服务器端发出信息，指明后面的数据通讯将使用的步骤 ⑦ 中的主密码为对称密钥，同时通知服务器客户端的握手过程结束。</p> <p>⑨ 服务器向客户端发出信息，指明后面的数据通讯将使用的步骤 ⑦ 中的主密码为对称密钥，同时通知客户端服务器端的握手过程结束。</p> <p>⑩ SSL 的握手部分结束，SSL 安全通道的数据通讯开始，客户和服务器开始使用相同的对称密钥进行数据通讯，同时进行通讯完整性的检验。</p> <h2 id="上述的过程需要弄懂的核心思想"><a href="#上述的过程需要弄懂的核心思想" class="header-anchor">#</a> 上述的过程需要弄懂的核心思想</h2> <p><b>客户端解析证书</b></p> <p>这部分工作是由客户端的 TLS 来完成的，首先会验证公钥是否有效，比如颁发机构，过期时间等等，如果发现异常，则会弹出一个警告框，提示证书存在问题。如果证书没有问题，<font color="red">那么就生成一个对称加密密钥，然后用公钥对该密钥进行非对称加密。</font></p> <p></p> <p><b>传送加密信息</b></p> <p>这部分传送的是用公钥加密后的对称加密密钥，目的就是让服务端得到这个密钥，以后客户端和服务端的通信就可以通过这个密钥来进行加密解密了。</p> <p></p> <p><b>服务端解密信息</b></p> <p><font color="red">服务端用非对称加密算法里的私钥解密后，得到了客户端传过来的对称加密算法的私钥，然后把之后传输的内容通过该值进行对称加密。</font></p> <p></p> <p><b>为什么用非对称加密协商对称加密密钥</b></p> <p>对称加密的特点：对称密码体制中只有一种密钥，并且是非公开的。如果要解密就得让对方知道密钥，所以<font color="red">想要保证其安全性就要保证密钥的安全。</font></p> <p>非对称加密的特点：<font color="red">算法强度复杂、安全性依赖于算法与密钥但是由于其算法复杂，而使得加密解密速度没有对称加密解密的速度快。</font>非对称密钥体制有两种密钥，其中一个是公开的，这样就可以不需要像对称密码那样传输对方的密钥了，这样安全性就大了很多。</p> <p>非对称加密公钥和私钥的使用方法：<font color="red">(1) 公钥加密私钥解密。(2) 私钥做数字签名，公钥验证</font>。</p> <h2 id="补充"><a href="#补充" class="header-anchor">#</a> 补充：</h2> <h2 id="ssl-提供服务"><a href="#ssl-提供服务" class="header-anchor">#</a> SSL 提供服务</h2> <p>(1) 认证用户和服务器，确保数据发送到正确的客户机和服务器；</p> <p>(2) 加密数据以防止数据中途被窃取；</p> <p>(3) 维护数据的完整性，确保数据在传输过程中不被改变。</p> <p></p> <h2 id="ssl-工作流程"><a href="#ssl-工作流程" class="header-anchor">#</a> SSL 工作流程</h2> <h2 id="服务器认证阶段"><a href="#服务器认证阶段" class="header-anchor">#</a> 服务器认证阶段：</h2> <p>(1) 客户端向服务器发送一个开始信息 &quot;Hello&quot; 以便开始一个新的会话连接；</p> <p>(2) 服务器根据客户的信息确定是否需要生成新的主密钥，如需要则服务器在响应客户的 &quot;Hello&quot; 信息时将包含生成主密钥所需的信息；</p> <p>(3) 客户根据收到的服务器响应信息，产生一个主密钥，并用服务器的公开密钥加密后传给服务器；</p> <p>(4) 服务器回复该主密钥，并返回给客户一个用主密钥认证的信息，以此让客户认证服务器。</p> <p></p> <p><b>用户认证阶段：</b>在此之前，服务器已经通过了客户认证，这一阶段主要完成对客户的认证。经认证的服务器发送一个提问给客户，客户则返回（数字）签名后的提问和其公开密钥，从而向服务器提供认证。</p> <p></p> <p>SSL 协议提供的安全通道有以下三个特性：</p> <p><b>机密性：</b>SSL 协议使用密钥加密通信数据。</p> <p><b>可靠性：</b>服务器和客户都会被认证，客户的认证是可选的。</p> <p><b>完整性：</b>SSL 协议会对传送的数据进行完整性检查。</p> <p></p> <p><b>服务器证书</b>(server certificates)是 SSL 数字证书的一种形式，意指<font>通过提交数字证书来证明您的身份或表明您有权访问在线服务</font>。再者简单来说，通过使用服务器证书可为不同站点提供身份鉴定并保证该站点拥有高强度加密安全。是组成 Web 服务器的 SSL 安全功能的唯一的数字标识。通过相互信任的第三方组织获得，并为用户提供验证您 Web 站点身份的手段。服务器证书包含详细的身份验证信息，如服务器内容附属的组织、颁发证书的组织以及称为公开密钥的唯一的身份验证文件。</p> <h2 id="网络七层协议"><a href="#网络七层协议" class="header-anchor">#</a> 网络七层协议</h2> <h4 id="应用层"><a href="#应用层" class="header-anchor">#</a> 应用层</h4> <p>与其它计算机进行通讯的一个应用，它是对应应用程序的通信服务的。例如，一个没有通信功能的字处理程序就不能执行通信的代码，从事字处理工作的程序员也不关心OSI的第7层。但是，如果添加了一个传输文件的选项，那么字处理器的程序就需要实现OSI的第7层。示例：TELNET，HTTP，FTP，NFS，SMTP等。</p> <h4 id="表示层"><a href="#表示层" class="header-anchor">#</a> 表示层</h4> <p>这一层的主要功能是定义数据格式及加密。例如，FTP允许你选择以二进制或ASCII格式传输。如果选择二进制，那么发送方和接收方不改变文件的内容。如果选择ASCII格式，发送方将把文本从发送方的字符集转换成标准的ASCII后发送数据。在接收方将标准的ASCII转换成接收方计算机的字符集。示例：加密，ASCII等。</p> <h4 id="会话层"><a href="#会话层" class="header-anchor">#</a> 会话层</h4> <p>它定义了如何开始、控制和结束一个会话，包括对多个双向消息的控制和管理，以便在只完成连续消息的一部分时可以通知应用，从而使表示层看到的数据是连续的，在某些情况下，如果表示层收到了所有的数据，则用数据代表表示层。示例：RPC，SQL等。</p> <h4 id="传输层"><a href="#传输层" class="header-anchor">#</a> 传输层</h4> <p>这层的功能包括是否选择差错恢复协议还是无差错恢复协议，及在同一主机上对不同应用的数据流的输入进行复用，还包括对收到的顺序不对的数据包的重新排序功能。示例：TCP，UDP，SPX。</p> <h4 id="网络层"><a href="#网络层" class="header-anchor">#</a> 网络层</h4> <p>这层对端到端的包传输进行定义，它定义了能够标识所有结点的逻辑地址，还定义了路由实现的方式和学习的方式。为了适应最大传输单元长度小于包长度的传输介质，网络层还定义了如何将一个包分解成更小的包的分段方法。示例：IP，IPX等。</p> <h4 id="数据链路层"><a href="#数据链路层" class="header-anchor">#</a> 数据链路层</h4> <p>它定义了在单个链路上如何传输数据。这些协议与被讨论的各种介质有关。示例：ATM，FDDI等。</p> <h4 id="物理层"><a href="#物理层" class="header-anchor">#</a> 物理层</h4> <p>OSI的物理层规范是有关传输介质的特性，这些规范通常也参考了其他组织制定的标准。连接头、帧、帧的使用、电流、编码及光调制等都属于各种物理层规范中的内容。物理层常用多个规范完成对所有细节的定义。示例：Rj45，802.3等。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/perfectSymphony/notes/edit/master/docs/http/HTTP和HTTPS的区别.md" target="_blank" rel="noopener noreferrer">在GitHub上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">7/11/2021, 11:38:27 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/nginx/nginx的gzip设置详解.html" class="prev">
        nginx的gzip设置详解
      </a></span> <span class="next"><a href="/http/揭秘简单请求和复杂请求.html">
        揭秘简单请求和复杂请求
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f8411f0b.js" defer></script><script src="/assets/js/2.05adf5bd.js" defer></script><script src="/assets/js/36.c6a50bc9.js" defer></script>
  </body>
</html>
